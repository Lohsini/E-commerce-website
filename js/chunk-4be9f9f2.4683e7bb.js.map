{"version":3,"sources":["webpack:///./src/components/shopPages/cart.vue?0889","webpack:///src/components/shopPages/cart.vue","webpack:///./src/components/shopPages/cart.vue?573b","webpack:///./src/components/shopPages/cart.vue","webpack:///./src/components/shopPages/cart.vue?af7a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_m","cartLength","staticStyle","_l","cart","item","key","id","removeCartItem","_v","_s","product","title","qty","unit","_f","final_total","total","_e","staticRenderFns","data","products","pagination","status","loadingItem","methods","getCart","vm","$http","get","api","then","response","carts","length","delete","console","log","created","component"],"mappings":"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","file":"js/chunk-4be9f9f2.4683e7bb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shopping\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),(_vm.cartLength !== 0)?_c('div',{staticClass:\"my-5 d-flex justify-content-center\"},[_c('div',{staticClass:\"col-md-6 row justify-content-center\"},[_c('table',{staticClass:\"table mt-4\",staticStyle:{\"width\":\"100%\"}},[_vm._m(1),_c('tbody',_vm._l((_vm.cart.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCartItem(item.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.final_total)))])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.cart.total))])]),(_vm.cart.final_total !== _vm.cart.total)?_c('tr',[_c('td',{staticClass:\"text-right text-success\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"折扣價\")]),_c('td',{staticClass:\"text-right text-success\"},[_vm._v(_vm._s(_vm.cart.final_total))])]):_vm._e()])]),_vm._m(2),_c('div',{staticClass:\"text-center\"},[_c('router-link',{staticClass:\"btn btn-success\",attrs:{\"to\":\"/imformationform\"}},[_vm._v(\"下一步\")])],1)])]):_vm._e(),(_vm.cartLength === 0)?_c('div',{staticClass:\"my-5 d-flex justify-content-center\"},[_c('p',[_vm._v(\"還沒有選擇商品喔！\"),_c('br'),_c('router-link',{staticClass:\"btn btn-success my-4\",attrs:{\"to\":\"/shopping\"}},[_vm._v(\"來去逛逛\")])],1)]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"jumbotron\"},[_c('div',[_c('h1',[_vm._v(\"您的購物車\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"刪除\")]),_c('th',[_vm._v(\"品名\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"單價\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group mb-3 input-group-sm\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"}},[_vm._v(\"套用優惠碼\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"shopping\">\n    <loading :active.sync=\"isLoading\"></loading>\n\n    <div class=\"jumbotron\">\n      <div>\n        <h1>您的購物車</h1>\n      </div>\n    </div>\n\n    <!-- 購物車 -->\n    <div class=\"my-5 d-flex justify-content-center\" v-if=\"cartLength !== 0\">\n      <div class=\"col-md-6 row justify-content-center\">\n        <table class=\"table mt-4\" style=\"width: 100%;\">\n          <thead>\n            <th>刪除</th>\n            <th>品名</th>\n            <th>數量</th>\n            <th>單價</th>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n              <td class=\"align-middle\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger btn-sm\"\n                  @click=\"removeCartItem(item.id)\"\n                >\n                  <i class=\"far fa-trash-alt\"></i>\n                </button>\n              </td>\n              <td class=\"align-middle\">{{ item.product.title }}</td>\n              <td class=\"align-middle\">{{ item.qty }}/{{ item.product.unit }}</td>\n              <td class=\"align-middle text-right\">{{ item.final_total | currency }}</td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colspan=\"3\" class=\"text-right\">總計</td>\n              <td class=\"text-right\">{{ cart.total }}</td>\n            </tr>\n            <tr v-if=\"cart.final_total !== cart.total\">\n              <td colspan=\"3\" class=\"text-right text-success\">折扣價</td>\n              <td class=\"text-right text-success\">{{ cart.final_total }}</td>\n            </tr>\n          </tfoot>\n        </table>\n        <!-- 優惠券的部分還沒寫，未來加 -->\n        <div class=\"input-group mb-3 input-group-sm\">\n          <input type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠碼\" />\n          <div class=\"input-group-append\">\n            <button class=\"btn btn-outline-secondary\" type=\"button\">套用優惠碼</button>\n          </div>\n        </div>\n        <div class=\"text-center\">\n          <router-link class=\"btn btn-success\" to=\"/imformationform\">下一步</router-link>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"my-5 d-flex justify-content-center\" v-if=\"cartLength === 0\">\n      <p>還沒有選擇商品喔！<br>\n      <router-link class=\"btn btn-success my-4\" to=\"/shopping\">來去逛逛</router-link></p>\n    </div>\n  </div>\n</template>\n\n<script>\n// import $ from 'jquery';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      product: {},\n      cart: [],\n      cartLength: 0,\n      pagination: {},\n      isLoading: false,\n      status: {\n        loadingItem: '',\n      },\n    };\n  },\n  methods: {\n    getCart() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\n      vm.isLoading = true;\n      this.$http.get(api).then((response) => {\n        vm.cart = response.data.data;\n        vm.cartLength = vm.cart.carts.length;\n        // console.log(vm.cartLength);\n        // console.log(response.data.data);\n        vm.isLoading = false;\n      });\n    },\n    removeCartItem(id) {\n      const vm = this;\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/${id}`;\n      vm.isLoading = true;\n      this.$http.delete(api).then((response) => {\n        // eslint-disable-next-line no-console\n        console.log(response.data);\n        vm.getCart();\n        vm.isLoading = false;\n      });\n    },\n  },\n  created() {\n    this.getCart();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.shopping{\n  .container{\n    .row{\n      .items{\n        .card{\n          a{\n            text-decoration: none;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=11aa8c04&scoped=true&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&id=11aa8c04&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11aa8c04\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&id=11aa8c04&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&id=11aa8c04&lang=scss&scoped=true&\""],"sourceRoot":""}